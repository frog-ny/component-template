@mixin switch-rules() {
  exa-switch {
    box-sizing: border-box;
    display: block;
    height: $switch__height;

    .switcher {
      position: relative;
      box-sizing: border-box;
      display: inline-block;
      width: $switch__width;
      height: $switch__height;
      vertical-align: middle;
      cursor: pointer;
      user-select: none;
      background-color: darken($color-palette__white, 5%);
      background-clip: content-box;
      border: $switch__border-width solid rgba(0,0,0,.18);
      border-radius: $switch__border-radius;
      box-shadow: 0 0 0 0 rgb(223,223,223) inset;
      transition: border .4s ease 0s, box-shadow .4s ease 0s;

      &.active {
        transition: border .4s ease 0s, box-shadow .4s ease 0s, background-color 1.2s ease 0s;

        .switch {
          left: calc((#{$switch__width} / 2) - (#{$switch__border-width} * 2));
        }
      }

    }

    input {
      position: absolute;
      top: 0;
      left: 0;
      z-index: 2;
      width: $switch__width;
      height: $switch__height;
      padding: 0;
      margin: 0;
      cursor: pointer;
      opacity: 0;
    }

    .switch {
      position: absolute;
      top: 0;
      left: 0;
      width: calc(#{$switch__width} / 2);
      height: calc(#{$switch__height} - (#{$switch__border-width} * 2));
      background: $color-palette__white;
      border-radius: $switch__border-radius;
      box-shadow: 0 1px 3px rgba(0,0,0,.15);
      transition: left .2s ease 0s;
    }

    .switcher:focus .switch {
      animation: switchPulseAnimation 1.5s infinite;
    }

    input:checked {
      z-index: 0;
    }

    .switcher-labels {
      position: relative;

      span {
        position: absolute;
        top: 0;
        left: 10px;
        color: $color-palette__dark-gray;
        visibility: hidden;
        opacity: 0;
        transition: all .2s ease-in-out;

        &.active {
          visibility: visible;
          opacity: 1;
          transition: all .2s ease-in-out;
        }
      }
    }
  }

  // Alternate styles
  @each $color, $map in $switch__colors {
    exa-switch[type='#{$color}'] .switcher.active{
      background-color: map-get($map, color);
      border-color: map-get($map, color);
      box-shadow: 0 0 0 calc(#{$switch__height} / 2) map-get($map, color) inset;
    }
  }

  @keyframes switchPulseAnimation {
    0% {
      box-shadow: 0 0 0 0 rgba(66,133,244,.55);
    }
    70% {
      box-shadow: 0 0 0 10px rgba(66,133,244,0);
    }
    100% {
      box-shadow: 0 0 0 0 rgba(66,133,244,0);
    }
  }
}
